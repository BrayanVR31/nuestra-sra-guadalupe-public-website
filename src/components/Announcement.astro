---
import { Clock4 } from "@lucide/astro";
import { transformRelativeTime } from "../libs/date";

interface Props {
  title: string;
  content: string;
  publishedAt: Date;
  imageURL: string;
}
const { title, content, publishedAt, imageURL } = Astro.props;
const shortDate = new Intl.DateTimeFormat("es-MX", {
  day: "numeric",
  month: "short",
});
---

<article data-show="onscroll" class="shadow-md shadow-neutral-300 bg-white">
  <!-- Card image -->
  <figure class="relative">
    <img src={imageURL} alt={title} />
    <figcaption class="sr-only">{title}</figcaption>
    <div
      class="w-18 aspect-square bg-primary text-white absolute top-6 right-6 rounded-full flex items-center justify-center"
    >
      <time class="w-0 min-w-min leading-tight text-center font-bold text-sm"
        >{shortDate.format(publishedAt)}</time
      >
    </div>
    <span
      class="absolute bg-primary text-white bottom-0 py-3 px-5 font-bold uppercase text-sm"
      >Avisos</span
    >
  </figure>
  <!-- Card body -->
  <div class="p-6">
    <!-- Content -->
    <div>
      <h5 class="font-bold text-center text-xl text-neutral-800 mb-4">
        {title}
      </h5>
      <p class="text-neutral-700 text-sm/8 text-justify">{content}</p>
    </div>
    <!-- Footer -->
    <div class="mt-6">
      <p class="text-sm text-neutral-600 flex items-center gap-2">
        <Clock4 class="w-4" />
        {transformRelativeTime(publishedAt)}
      </p>
    </div>
  </div>
</article>
